{% extends 'base.html' %}
{% load humanize %}

{% block style %}
    <link rel="stylesheet" href="/static/getapiinfo/css/home.css">
{% endblock style %}

{% block contenido %}


<body>
<div class="container">
    <h2>COVID Data</h2>
    <div class="container">
    <div class="card card-stats">
    <table id="tableGlobal" class="table table-sm table-bordered">
    
        <tr>
            <th scope="row">New Confirmed</th>
            <td>{{ contents.Global.NewConfirmed|intcomma }}</td>
            <th scope="row">New Deaths</th>
            <td>{{ contents.Global.NewDeaths|intcomma }}</td>
            <th scope="row">New Recovered</th>
            <td>{{ contents.Global.NewRecovered|intcomma }}</td>
        </tr>
        <tr>
            <th scope="row">Total Confirmed</th>
            <td>{{ contents.Global.TotalConfirmed|intcomma }}</td>
            <th scope="row">Total Deaths</th>
            <td>{{ contents.Global.TotalDeaths|intcomma }}</td>
            <th scope="row">Total Recovered</th>
            <td>{{ contents.Global.TotalRecovered|intcomma }}</td>
        </tr>
    
    </table>
    </div>
    </div>
    <div class="container">

    <input type="text" id="search" onkeyup="search();" placeholder="Search for countries...">
    <div class="card card-stats">
    <table id='table' class='sortable table table-sm'>
        
        <tr class="header">
            <th scope="col" class="thead">Country</th>
            <th scope="col" class="thead">New Confirmed</th>
            <th scope="col" class="thead">Total Confirmed</th>
            <th scope="col" class="thead">New Deaths</th>
            <th scope="col" class="thead">Total Deaths</th>
            <th scope="col" class="thead">New Recovered</th>
            <th scope="col" class="thead">Total Recovered</th>
            <th scope="col" class="thead">Update</th>
        </tr>
        
        {% for i in contents.Countries %}
        <tr>
            <td><a href="/table/{{ i.Slug }}" >{{ i.Country }}</td>
            <td>{{ i.NewConfirmed|intcomma }}</td>
            <td>{{ i.TotalConfirmed|intcomma }}</td>
            <td>{{ i.NewDeaths|intcomma }}</td>
            <td>{{ i.TotalDeaths|intcomma }}</td>
            <td>{{ i.NewRecovered|intcomma }}</td>
            <td>{{ i.TotalRecovered|intcomma }}</td>
            <td>{{ i.Date|slice:":10"}}</td>
        </tr>
        
        {% empty %}
        <tr>
            <td>Nothing found</td>
        </tr>
            
        {% endfor %}
    </table>
    </div>
    </div>
    {% endblock contenido %}
    {% block js %}
    {% load static %}
    <script src="{% static '/getapiinfo/js/search.js' %}"></script>
    {% endblock js %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
</div>
</body>
</html>